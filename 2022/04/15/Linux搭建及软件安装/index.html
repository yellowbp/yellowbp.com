<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="renderer" content="webkit">

  
  <title>Linux搭建及软件安装 | bp的Blog</title>

  <link rel="shortcut icon" href="/images/favicon.png">
  
  <meta name="description" content="Linux搭建及软件安装安装Linux系统VMware虚拟机安装下载ISO镜像文件阿里巴巴官方镜像站 安装vmware安装好并破解vmware、 检测是否破解成功：打开软件后可通过 帮助 –&amp;gt; 关于VMware Workstation 配置虚拟机 打开软件后，创建新的虚拟机 选择典型，并选择下载好的ios文件 自定义虚拟机名字，位置：H:\VMware\Virtual Machines\Ce">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux搭建及软件安装">
<meta property="og:url" content="https://yellowbp.github.io/2022/04/15/Linux搭建及软件安装/index.html">
<meta property="og:site_name" content="bp的Blog">
<meta property="og:description" content="Linux搭建及软件安装安装Linux系统VMware虚拟机安装下载ISO镜像文件阿里巴巴官方镜像站 安装vmware安装好并破解vmware、 检测是否破解成功：打开软件后可通过 帮助 –&amp;gt; 关于VMware Workstation 配置虚拟机 打开软件后，创建新的虚拟机 选择典型，并选择下载好的ios文件 自定义虚拟机名字，位置：H:\VMware\Virtual Machines\Ce">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%86%99%E5%85%A5%E9%95%9C%E5%83%8F.png">
<meta property="og:image" content="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E5%AE%89%E8%A3%85.png">
<meta property="og:image" content="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%AE%89%E8%A3%85%E4%BF%A1%E6%81%AF%E6%91%98%E8%A6%81.png">
<meta property="og:updated_time" content="2022-08-11T11:35:26.049Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux搭建及软件安装">
<meta name="twitter:description" content="Linux搭建及软件安装安装Linux系统VMware虚拟机安装下载ISO镜像文件阿里巴巴官方镜像站 安装vmware安装好并破解vmware、 检测是否破解成功：打开软件后可通过 帮助 –&amp;gt; 关于VMware Workstation 配置虚拟机 打开软件后，创建新的虚拟机 选择典型，并选择下载好的ios文件 自定义虚拟机名字，位置：H:\VMware\Virtual Machines\Ce">
<meta name="twitter:image" content="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%86%99%E5%85%A5%E9%95%9C%E5%83%8F.png">

  <meta name="format-detection" content="telephone=no,email=no">
  <meta name="theme-color" content="#9C27B0">
  <meta name="description" content>
  <meta name="keywords" content=",linux">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="bp的Blog">
  <meta name="msapplication-starturl" content="https://yellowbp.github.io/2022/04/15/Linux搭建及软件安装/">
  <meta name="msapplication-navbutton-color" content="#9C27B0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="bp的Blog">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/images/favicon.png">

  
    <meta property="article:published_time" content="Fri Apr 15 2022 11:27:23 GMT+0800">
    <meta property="article:modified_time" content="Thu Aug 11 2022 19:35:26 GMT+0800">
  

  
    <link rel="canonical" href="https://yellowbp.github.io/2022/04/15/Linux搭建及软件安装/">
  

  <meta name="google-site-verification" content="fXjtlIfaDc_X-0P11rO3bEp1Nk4IKXphoJv0GqGZCco">
  <meta name="baidu-site-verification" content="I3t1wfwZvd">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create','UA-139531378-1','auto');ga('send','pageview');
</script>
  <script>
  var _hmt = _hmt || [];
  (function() {var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?1054d51c0b66f1d168829173682c8159';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script>
  

  <link rel="stylesheet" href="/css/mdui.css">
<link rel="stylesheet" href="/css/style.css">
</head>
<body class="mdui-appbar-with-toolbar mdui-drawer-body-left mdui-theme-primary-brown mdui-theme-accent-blue">
  <script>var a=localStorage.getItem("mdui-theme-layout-dark");if(a){document.getElementsByTagName("body")[0].className+=" mdui-theme-layout-dark"};</script>
  <header id="header" class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide mdui-appbar-inset">
  <div class="mdui-toolbar mdui-color-theme">
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="mdui-icon material-icons">menu</i></a>
    <a href="/" class="mdui-typo-headline">bp的Blog</a>
    <div class="mdui-toolbar-spacer"></div>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: '搜索'}"><i class="mdui-icon material-icons">search</i></a>
    
  </div>
</header>
<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>
  <aside id="sidebar" class="mdui-drawer mdui-drawer-full-height">
  <div class="mdui-grid-tile">
    <img src="/images/Gradient1.jpg" style="height: 160px;">
    <img src="/images/headPic.jpg" class="avatar-animation" style="position: absolute; top: 10%; left: 24px; width: 64px; height: 64px; border: 2px solid #fff; border-radius: 50%;">
    <div class="mdui-grid-tile-actions">
      <div class="mdui-grid-tile-text">
        <div class="mdui-grid-tile-title">hbp
        </div>
        <div class="mdui-grid-tile-subtitle"><i class="mdui-icon material-icons">art_track</i>要想快，先会慢</div>
      </div>
      
        <div class="mdui-grid-tile-buttons">
          <a href="mailto:347070556@qq.com" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: '347070556@qq.com'}"><i class="mdui-icon material-icons">email</i></a>
        </div>
      
    </div>
  </div>

  <div class="mdui-list" mdui-collapse="{accordion: true}">
    <a href="/" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-blue">home</i>
      <div class="mdui-list-item-content">主页</div>
    </a>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-deep-orange">inbox</i>
        <div class="mdui-list-item-content">归档</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/archives/2022/08/">八月 2022<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2022/07/">七月 2022<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2022/05/">五月 2022<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2022/04/">四月 2022<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2022/03/">三月 2022<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2022/02/">二月 2022<span class="mdui-ripple sidebar_archives-count">13</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/10/">十月 2021<span class="mdui-ripple sidebar_archives-count">9</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/09/">九月 2021<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/08/">八月 2021<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/07/">七月 2021<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/06/">六月 2021<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/05/">五月 2021<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/04/">四月 2021<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/03/">三月 2021<span class="mdui-ripple sidebar_archives-count">12</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/02/">二月 2021<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/01/">一月 2021<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/10/">十月 2019<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="mdui-ripple sidebar_archives-count">5</span></a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-green">chrome_reader_mode</i>
        <div class="mdui-list-item-content">分类</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/categories/ElasticSearch/">ElasticSearch<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/OAuth2/">OAuth2<span class="mdui-ripple sidebar_archives-count">8</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Redis/">Redis<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Spring/">Spring<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/SpringBoot/">SpringBoot<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/SpringCloud-Alibaba/">SpringCloud Alibaba<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/SpringMVC/">SpringMVC<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/docker/">docker<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/excel/">excel<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/git/">git<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/java8/">java8<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/java基础/">java基础<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/jenkins/">jenkins<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/jenkins/docker/">docker<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/jwt/">jwt<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/k8s/">k8s<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/linux/">linux<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/maven/">maven<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/mq/">mq<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/mybatis/">mybatis<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/mysql/">mysql<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/nginx/">nginx<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/redis/">redis<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/servlet/">servlet<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/spring/">spring<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/ssm/">ssm<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/web开发基础/">web开发基础<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/yaml/">yaml<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/上传下载文件/">上传下载文件<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/乱码/">乱码<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/参数校验/">参数校验<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/发短信/">发短信<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/小程序/">小程序<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/工具类/">工具类<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/开发软件/">开发软件<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/技术/">技术<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/搭建博客/">搭建博客<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/电脑硬件/">电脑硬件<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/算法/">算法<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/缓存/">缓存<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/规范/">规范<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/认证授权/">认证授权<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/设计模式/">设计模式<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/部署/">部署<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/重装/">重装<span class="mdui-ripple sidebar_archives-count">1</span></a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-brown">bookmark</i>
        <div class="mdui-list-item-content">标签</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/tags/Spring/">Spring<span class="mdui-ripple sidebar_archives-count">22</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/algorithm/">algorithm<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/excel/">excel<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/git/">git<span class="mdui-ripple sidebar_archives-count">13</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/hexo/">hexo<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/javaWeb/">javaWeb<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/java基础/">java基础<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/jwt/">jwt<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/linux/">linux<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/mq/">mq<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/mysql/">mysql<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/nginx/">nginx<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/redis/">redis<span class="mdui-ripple sidebar_archives-count">9</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/servlet/">servlet<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/spring/">spring<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/web开发基础/">web开发基础<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/win7/">win7<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/其他/">其他<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/分布式/">分布式<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/接口文档/">接口文档<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/笔记本选购/">笔记本选购<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/自动化构建工具/">自动化构建工具<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/设计模式/">设计模式<span class="mdui-ripple sidebar_archives-count">6</span></a>
        
      </div>
    </div>
    <a href="/about" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-purple">person</i>
      <div class="mdui-list-item-content">关于</div>
    </a>
  </div>

  <div class="mdui-divider"></div>

  <div class="mdui-list" mdui-collapse="{accordion: true}">
    
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <div class="mdui-list-item-content">友情链接</div>
        <i class="mdui-list-item-icon mdui-icon material-icons">link</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        
          <a href="javascript:;" class="mdui-list-item mdui-ripple mdui-p-l-2 mdui-text-color-theme" style="justify-content: center;">链接为空</a>
        
      </div>
    </div>
  </div>
</aside>
  <main id="main" class="mdui-m-t-5 fadeIn animated">
  <link rel="stylesheet" href="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css">
  <style>#main article .mdui-card-content .center-block{display:block!important;margin-right:auto!important;margin-left:auto!important}</style>
  <article class="mdui-card mdui-m-b-5">
    <header class="mdui-card-media">
      <img src="/images/random/material-6.png" style="max-height: 240px;">
      <div class="mdui-card-media-covered">
        <div class="mdui-card-primary">
          <div class="mdui-card-primary-title">Linux搭建及软件安装</div>
          <div class="mdui-card-primary-subtitle"><i class="iconfont">&#xe697;</i> 2022-04-15 / 
          <i class="iconfont">&#xe601;</i> hbp
          <span id="busuanzi_container_page_pv">
            本文总阅读量<span id="busuanzi_value_page_pv"></span>次
          </span>
          </div>
        </div>
      </div>
      <div class="mdui-card-menu">
        
        
      </div>
    </header>
    <div class="mdui-card-content mdui-typo">
      <h1 id="Linux搭建及软件安装"><a href="#Linux搭建及软件安装" class="headerlink" title="Linux搭建及软件安装"></a>Linux搭建及软件安装</h1><h2 id="安装Linux系统"><a href="#安装Linux系统" class="headerlink" title="安装Linux系统"></a>安装Linux系统</h2><h3 id="VMware虚拟机安装"><a href="#VMware虚拟机安装" class="headerlink" title="VMware虚拟机安装"></a>VMware虚拟机安装</h3><h4 id="下载ISO镜像文件"><a href="#下载ISO镜像文件" class="headerlink" title="下载ISO镜像文件"></a>下载ISO镜像文件</h4><p><a href="https://developer.aliyun.com/mirror/?spm=a2c6h.25603864.0.0.18de4ccaGMHd2M" target="_blank" rel="noopener">阿里巴巴官方镜像站</a></p>
<h4 id="安装vmware"><a href="#安装vmware" class="headerlink" title="安装vmware"></a>安装vmware</h4><p>安装好并破解vmware、</p>
<p>检测是否破解成功：打开软件后可通过 帮助 –&gt; 关于VMware Workstation</p>
<h4 id="配置虚拟机"><a href="#配置虚拟机" class="headerlink" title="配置虚拟机"></a>配置虚拟机</h4><ol>
<li>打开软件后，创建新的虚拟机</li>
<li>选择典型，并选择下载好的ios文件</li>
<li>自定义虚拟机名字，位置：<code>H:\VMware\Virtual Machines\CentOS7</code></li>
<li>最大磁盘大小 &gt; 20G 即可，选择将虚拟磁盘拆分成多个文件</li>
<li>因为默认的内存1G，适配器NAT是不符合的，选择自定义硬件<ol>
<li>根据自身电脑选择内存大小（如果用到jenkins建议内存4G）</li>
<li>处理器数量2核2处理器</li>
<li>网络适配器：桥接模式并勾选复制物理网络连接状态(主机和虚拟机可以互相通信，虚拟机也可以上外网)</li>
</ol>
</li>
<li>点击完成后，鼠标点进画面按下回车，等待安装即可</li>
<li>选择英文(English)界面</li>
<li>“DATE &amp; TIME” 选择 上海时间</li>
<li>“SOFTWARE SELECTION” 选择安装“GNOME Desktop”</li>
<li>点击”INSTALLATION DESTINATION” ，都是默认即可</li>
<li>“NETWORK &amp; HOST NAME” –&gt; 打开开关（可以看到它自动给我们给配了一个动态的ip地址，子网掩码，网关）,为了下次不会改变，我们选择 “Conguare” –&gt; IPv4 Settings –&gt; Automatic address only –&gt; Add –&gt; 把分配给我们的ip、子网掩码、网关输入进去即可</li>
<li>Begin Installation 安装即可</li>
<li>设置root的登录密码(如果密码过于简单，需要按2次Done)</li>
<li>finsih</li>
<li>重启之后，勾选协议即可</li>
<li>finsh</li>
<li>来到linux的欢迎界面</li>
<li>选择英文</li>
<li>关闭Privacy</li>
</ol>
<h4 id="验证网卡配置"><a href="#验证网卡配置" class="headerlink" title="验证网卡配置"></a>验证网卡配置</h4><ol>
<li>ping 宿主机</li>
<li>宿主机ping 虚拟机</li>
<li>虚拟机 ping 外网</li>
</ol>
<h3 id="U盘安装"><a href="#U盘安装" class="headerlink" title="U盘安装"></a>U盘安装</h3><h4 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h4><ol>
<li>大容量的U盘（容量至少8G，用来装ISO系统镜像）</li>
<li>UltraISO工具，用来制作 U 盘为启动盘，因为 UltraISO 工具是 windows 软件，所以需要一台 windows 系统的电脑下载此软件</li>
<li>系统的 ISO 镜像文件，下载地址：<a href="https://developer.aliyun.com/mirror/?spm=a2c6h.25603864.0.0.18de4ccaGMHd2M" target="_blank" rel="noopener">阿里巴巴官方镜像站</a>，选择所需要的系统镜像，以下以 Centos 7.x 为例</li>
</ol>
<blockquote>
<p>注意：第2步中，如果是安装 windows 系统的话，可以选择 大白菜、老毛桃、优启通 等软件，如果是安装 linux 系统的话，则要选择 UltraISO 工具</p>
</blockquote>
<h4 id="制作启动盘"><a href="#制作启动盘" class="headerlink" title="制作启动盘"></a>制作启动盘</h4><blockquote>
<p>如 U 盘有重要文件，则需要在制作启动盘之前先备份文件</p>
</blockquote>
<p>打开 UltraISO 工具后：菜单选择 –&gt; 启动–写入硬盘映像</p>
<img src="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%86%99%E5%85%A5%E9%95%9C%E5%83%8F.png" alt="写入镜像" style="zoom:80%;">

<p>选择好对应的 镜像文件iso 之后，直接点击 写入 即可。</p>
<h4 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h4><p>插入 U 盘，进入 BIOS 界面，然后设定 U 盘为第一个启动设备，重启之后出现便可进入系统安装界面。</p>
<p>安装界面有3大板块</p>
<ol>
<li><p>本地化</p>
<ol>
<li>设置<code>语言</code>，默认 English，我这里选择的是<strong>简体中文</strong>（只是单纯地方便看懂安装选项的意思，后续可换成 English）</li>
<li>设置<code>日期和时间</code>，选择 Asia/Shanghai 时区（亚洲/上海）</li>
</ol>
</li>
<li><p>软件</p>
<ol>
<li><p><code>安装源</code> ；跳过即可</p>
</li>
<li><p><code>软件选择</code>，只能任意选择一个安装；如没特别需要，可以直接安装默认选项也行，这里我选择安装一个 <strong>图形化界面</strong></p>
<img src="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2%E5%AE%89%E8%A3%85.png" alt="图形化界面安装" style="zoom:75%;">
</li>
</ol>
</li>
<li><p>系统</p>
<ol>
<li><code>安装位置</code>；选择自动分区即可</li>
<li><code>KDUMP</code>；默认即可</li>
<li><code>网络和主机名</code>；后续设置，这里我便跳过不设置了</li>
<li><code>SECURITY POLICY</code>；跳过即可</li>
</ol>
</li>
</ol>
<p>点击开始安装即可。</p>
<p><strong>总结上述，如下图：</strong></p>
<img src="https://linuximagess.oss-cn-shenzhen.aliyuncs.com/%E5%AE%89%E8%A3%85%E4%BF%A1%E6%81%AF%E6%91%98%E8%A6%81.png" alt="安装信息摘要" style="zoom:80%;">

<blockquote>
<p>在安装过程中，可以给 root 用户设置密码，也可以创建一个 用户</p>
</blockquote>
<p>安装自动重启后，系统就安装完毕了</p>
<h4 id="配置基本环境"><a href="#配置基本环境" class="headerlink" title="配置基本环境"></a>配置基本环境</h4><h5 id="更改主机名"><a href="#更改主机名" class="headerlink" title="更改主机名"></a>更改主机名</h5><p>若在安装过程中，已经设置好主机名，这一步可跳过</p>
<p>永久生效有2种方法（修改完后重启才能生效）：</p>
<ol>
<li><p>命令行</p>
<blockquote>
<p>hostnamectl set-hostname xxx</p>
</blockquote>
</li>
<li><p>修改文件</p>
<blockquote>
<p>vi /etc/hostname</p>
</blockquote>
</li>
</ol>
<h5 id="设置网络"><a href="#设置网络" class="headerlink" title="设置网络"></a>设置网络</h5><p>Centos7 获取 ip 地址的方式有 2 种：</p>
<ol>
<li>dhcp 动态获取 ip</li>
<li>设置静态 ip 地址</li>
</ol>
<p>在配置网络之前，我们得先知道 Centos7 得网卡名称是什么？ 然后修改对应的 网卡配置信息</p>
<p><strong>静态 ip 地址设置</strong></p>
<ol>
<li><p>查看网卡</p>
<blockquote>
<p>ip addr</p>
</blockquote>
</li>
<li><p>修改对应网卡的配置文件</p>
<p>Centos7 默认网卡设备文件存放于 <code>/etc/sysconfig/network-scripts/</code></p>
<p>通过 cat 查看 Centos7 默认网卡设备配置信息, 如下：</p>
<blockquote>
<p>cat /etc/sysconfig/network-scripts/ifcfg-ens32（最后一个网卡名称）</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet                  # 网卡类型：为以太网</span><br><span class="line">PROXY_METHOD=none              # 代理方式：关闭状态</span><br><span class="line">BROWSER_ONLY=no                # 只是浏览器：否</span><br><span class="line">BOOTPROTO=dhcp                 # 网卡的引导协议：DHCP[中文名称: 动态主机配置协议]</span><br><span class="line">DEFROUTE=yes                   # 默认路由：是, 不明白的可以百度关键词 `默认路由` </span><br><span class="line">IPV4_FAILURE_FATAL=no          # 是不开启IPV4致命错误检测：否</span><br><span class="line">IPV6INIT=yes                   # IPV6是否自动初始化: 是[不会有任何影响, 现在还没用到IPV6]IPV6_AUTOCONF=yes         # IPV6是否自动配置：是[不会有任何影响, 现在还没用到IPV6]IPV6_DEFROUTE=yes         # IPV6是否可以为默认路由：是[不会有任何影响, 现在还没用到IPV6]IPV6_FAILURE_FATAL=no     # 是不开启IPV6致命错误检测：否</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy        # IPV6地址生成模型：stable-privacy [这只一种生成IPV6的策略]</span><br><span class="line">NAME=ens33                     # 网卡物理设备名称</span><br><span class="line">UUID=1678356b-1757-43ad-8de5-ad6200ce2928    # 通用唯一识别码, 每一个网卡都会有, 不能重复</span><br><span class="line">DEVICE=ens33      # 网卡设备名称, 必须和 `NAME` 值一样</span><br><span class="line">ONBOOT=no         # 是否开机启动， 要想网卡开机就启动，必须设置为 `yes`</span><br></pre></td></tr></table></figure>

<p>使用 vi 文本编辑器打开网卡设备文件，进行修改：</p>
<blockquote>
<p>vi /etc/sysconfig/network-scripts/ifcfg-ens32（最后一个网卡名称）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改以下内容</span></span><br><span class="line">BOOTPROTO=<span class="keyword">static</span>  <span class="comment">// 启用静态IP地址</span></span><br><span class="line">ONBOOT=yes        <span class="comment">// 开机后，网卡自动启动</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//添加以下内容</span></span><br><span class="line">IPADDR=<span class="number">192.168</span><span class="number">.30</span><span class="number">.100</span>      <span class="comment">// 设置IP地址</span></span><br><span class="line">NETMASK=<span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span>      <span class="comment">// 子网掩码</span></span><br><span class="line">GATEWAY=<span class="number">192.168</span><span class="number">.30</span><span class="number">.1</span>       <span class="comment">// 设置网关</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>重启网卡</p>
<blockquote>
<p>systemctl restart network</p>
</blockquote>
</li>
</ol>
<h5 id="修改系统语言"><a href="#修改系统语言" class="headerlink" title="修改系统语言"></a>修改系统语言</h5><p>这一步非必要操作</p>
<blockquote>
<p>vi /etc/locale.conf</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 若想修改成英文：</span></span><br><span class="line">LANG=<span class="string">"en_US.UTF-8"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 若想修改成英文：</span></span><br><span class="line">LANG=<span class="string">"zh_CN.UTF-8"</span></span><br></pre></td></tr></table></figure>

<p>重启系统生效</p>
<blockquote>
<p>reboot</p>
</blockquote>
<p><strong>dhcp 动态获取 ip</strong></p>
<p>使用 vi 文本编辑器打开网卡设备文件，进行修改：</p>
<blockquote>
<p>vi /etc/sysconfig/network-scripts/ifcfg-ens32（最后一个网卡名称）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BOOTPROTO=dhcp</span><br><span class="line">onboot=yes</span><br></pre></td></tr></table></figure>

<p>重启网卡</p>
<blockquote>
<p>systemctl restart network</p>
</blockquote>
<h2 id="常用软件安装"><a href="#常用软件安装" class="headerlink" title="常用软件安装"></a>常用软件安装</h2><h3 id="jdk"><a href="#jdk" class="headerlink" title="jdk"></a>jdk</h3><p>在下载前，先检查本机有无默认安装jdk</p>
<blockquote>
<p>java -version</p>
</blockquote>
<p>若无：</p>
<p>通过rpm方式下载，此方法不用配置环境变量</p>
<h4 id="下载jdk"><a href="#下载jdk" class="headerlink" title="下载jdk"></a>下载jdk</h4><h4 id="安装jdk"><a href="#安装jdk" class="headerlink" title="安装jdk"></a>安装jdk</h4><p>执行安装命令：</p>
<blockquote>
<p>rpm -ivh jdk-8u221-linux-x64.rpm</p>
</blockquote>
<p>默认安装在 /usr/java文件夹中，通过如下命令检查是否安装成功</p>
<blockquote>
<p>java -version</p>
</blockquote>
<h4 id="卸载jdk"><a href="#卸载jdk" class="headerlink" title="卸载jdk"></a>卸载jdk</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先查看jdk版本的信息：rpm -qa|grep jdk</span></span><br><span class="line"><span class="comment"># 卸载：rpm -e --nodeps jdk的版本信息</span></span><br></pre></td></tr></table></figure>

<h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><p><strong>以下为单实例安装与配置</strong></p>
<p>安装方式以rpm包安装，版本为5.7</p>
<h4 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h4><p><strong><em>以下操作所有节点操作</em></strong></p>
<h5 id="配置ulimit限制"><a href="#配置ulimit限制" class="headerlink" title="配置ulimit限制"></a>配置ulimit限制</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/security/limits.conf</span><br><span class="line"></span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line"></span><br><span class="line">vi /etc/security/limits.d/20-nproc.conf</span><br><span class="line">*          soft    nproc     65535</span><br><span class="line">root       soft    nproc     unlimited</span><br></pre></td></tr></table></figure>

<h4 id="切换成root用户进行如下安装"><a href="#切换成root用户进行如下安装" class="headerlink" title="切换成root用户进行如下安装"></a>切换成root用户进行如下安装</h4><blockquote>
<p>su root</p>
</blockquote>
<h4 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h4><p><a href="https://dev.mysql.com/downloads/mysql/5.7.html#downloads" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/5.7.html#downloads</a></p>
<h4 id="上传并解压安装包"><a href="#上传并解压安装包" class="headerlink" title="上传并解压安装包"></a>上传并解压安装包</h4><p>如：mysql-5.7.28-1.el7.x86_64.rpm-bundle.zip</p>
<h4 id="删除系统自带的mysql"><a href="#删除系统自带的mysql" class="headerlink" title="删除系统自带的mysql"></a>删除系统自带的mysql</h4><p>查看系统自带mysql / mariadb</p>
<blockquote>
<p>rpm -qa | grep -iE “mysql|mariadb”</p>
</blockquote>
<p>删除</p>
<blockquote>
<p>使用rpm –e 查询到的旧rpm包 加 –nodeps 删除</p>
</blockquote>
<h4 id="安装5个rpm包"><a href="#安装5个rpm包" class="headerlink" title="安装5个rpm包"></a>安装5个rpm包</h4><p>实际版本以下载安装的版本为准</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql-community-common-5.7.28-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-5.7.28-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-devel-5.7.28-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-client-5.7.28-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-server-5.7.28-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或cd到rpm包目录</span></span><br><span class="line">rpm -ivh *.rpm</span><br></pre></td></tr></table></figure>

<h4 id="创建相关目录及授权"><a href="#创建相关目录及授权" class="headerlink" title="创建相关目录及授权"></a>创建相关目录及授权</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /var/lib/mysql 是mysql安装的默认路径</span></span><br><span class="line">mkdir -p /var/lib/mysql/data</span><br><span class="line">mkdir -p /var/lib/mysql/logs/&#123;<span class="built_in">log</span>,binlog,relaylog,slow&#125;</span><br><span class="line">chown -R mysql:mysql /var/lib/mysql/</span><br></pre></td></tr></table></figure>

<p>如果后续发现 /var 所在的目录文件太大，需要<strong>迁移数据库至其他目录</strong>：</p>
<blockquote>
<p>cp -r /var/lib/mysql /home/</p>
<p>chown -R mysql:mysql /home/mysql<br>mv /var/lib/mysql /var/lib/mysql_bak   # 这一步也可以把 mysql 目录直接删除掉<br>ln -s /home/mysql /var/lib/mysql</p>
</blockquote>
<h4 id="按实际修改配置文件参数"><a href="#按实际修改配置文件参数" class="headerlink" title="按实际修改配置文件参数"></a>按实际修改配置文件参数</h4><ul>
<li>清空默认配置，直接使用以下内容，具体参数可根据实际调整</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/my.cnf </span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">############################ system  ##################################</span><br><span class="line">port                                    =  3306</span><br><span class="line">user                                    =  mysql</span><br><span class="line">basedir                                 =  /var/lib/mysql</span><br><span class="line">datadir                                 =  /var/lib/mysql/data</span><br><span class="line">socket                                  =  /var/lib/mysql/mysql.sock</span><br><span class="line">read_only                               =  OFF</span><br><span class="line">character-set-server                    =  utf8</span><br><span class="line">lower_case_table_names                  =  1</span><br><span class="line">sql_mode                                =  STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBS</span><br><span class="line">log_timestamps                          =  SYSTEM</span><br><span class="line">default-time_zone                       = &apos;+8:00&apos;</span><br><span class="line">innodb_adaptive_hash_index              =  OFF</span><br><span class="line">log_slave_updates                       =  1</span><br><span class="line">event_scheduler                         =  1    </span><br><span class="line">show_compatibility_56                   =  ON   </span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###########################  connection  ##############################</span><br><span class="line">open-files-limit                        =  65535</span><br><span class="line">symbolic-links                          =  0</span><br><span class="line">max_allowed_packet                      =  1024M</span><br><span class="line">max_connections                         =  3000</span><br><span class="line">max_user_connections                    =  3000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###########################  BUFFER   ##############################</span><br><span class="line">query-cache-type                        =  0</span><br><span class="line">query-cache-size                        =  0</span><br><span class="line">thread-cache-size                       =  100</span><br><span class="line">innodb_buffer_pool_load_at_startup      =  1</span><br><span class="line">innodb_buffer_pool_dump_at_shutdown     =  1</span><br><span class="line">innodb_print_all_deadlocks              =  1</span><br><span class="line">innodb_log_file_size                    =  1G</span><br><span class="line">innodb_log_buffer_size                  =  16M</span><br><span class="line">innodb_log_files_in_group               =  3</span><br><span class="line">innodb_buffer_pool_size					=  10G</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">############################   log   ##################################</span><br><span class="line">max-binlog-size                                      =  1G</span><br><span class="line">master_info_repository                               =  TABLE</span><br><span class="line">log-error                                            =  /var/log/mysqld.log</span><br><span class="line">innodb_log_group_home_dir                            =  /var/lib/mysql/logs/log</span><br><span class="line">log-bin                                              =  /var/lib/mysql/logs/binlog/mysql01-bin.log </span><br><span class="line">relay_log                                            =  /var/lib/mysql/logs/relaylog/mysql01-relay.log</span><br><span class="line">slow-query-log-file                                  =  /var/lib/mysql/logs/slow/mysql01-slow.log </span><br><span class="line">slow-query-log                                       =  OFF</span><br><span class="line">long_query_time                                      =  10</span><br><span class="line">relay_log_info_repository                            =  TABLE</span><br><span class="line">relay_log_recovery                                   =  1</span><br><span class="line">slave_preserve_commit_order                          =  1</span><br><span class="line">log-queries-not-using-indexes                        =  ON</span><br><span class="line">expire_logs_days                                     =  15</span><br><span class="line">binlog_format                                        =  row</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##########################     replication ##########################</span><br><span class="line">server-id                           =  101</span><br><span class="line">gtid-mode                           =   on</span><br><span class="line">enforce-gtid-consistency            =   1</span><br></pre></td></tr></table></figure>

<ul>
<li>参数要点：</li>
</ul>
<blockquote>
<p>innodb_buffer_pool_size 建议配置为数据库服务器物理内存的50~70%，生产一般60%，事务比较忙70%。</p>
<p>server-id=101  ##master2上为102，否则复制时会有冲突；</p>
<p>如扩展更多节点，server-id顺延且必须不相同即可。</p>
</blockquote>
<h4 id="启动服务并设置开机自启"><a href="#启动服务并设置开机自启" class="headerlink" title="启动服务并设置开机自启"></a>启动服务并设置开机自启</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br><span class="line">systemctl enable mysqld</span><br></pre></td></tr></table></figure>

<h4 id="查询mysql的运行状态"><a href="#查询mysql的运行状态" class="headerlink" title="查询mysql的运行状态"></a>查询mysql的运行状态</h4><blockquote>
<p>systemctl status mysqld.service</p>
</blockquote>
<h4 id="重置root密码"><a href="#重置root密码" class="headerlink" title="重置root密码"></a>重置root密码</h4><ol>
<li><p>mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。通过下面的方式获取 root 默认密码</p>
<blockquote>
<p>grep ‘temporary password’ /var/log/mysqld.log</p>
</blockquote>
</li>
<li><p>登录 mysql，对 root 用户密码进行重置</p>
<blockquote>
<p>mysql -uroot -p</p>
</blockquote>
</li>
<li><p>输入以下命令来修改密码</p>
<blockquote>
<p>ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘xxx’;</p>
</blockquote>
</li>
</ol>
<p>注意：xxx要有大小写字母，数字，特殊字符</p>
<p>（因为mysql5.7的安全机制，密码一定要有大小写字母和特殊符号和数字。）</p>
<h4 id="添加远程登录用户"><a href="#添加远程登录用户" class="headerlink" title="添加远程登录用户"></a>添加远程登录用户</h4><p>添加远程登录用户<br>默认只允许root帐户在本地登录，如果要在其它机器上连接mysql，必须修改root允许远程连接，或者添加一个允许远程连接的帐户，为了安全起见，我添加一个新的帐户并设置用户拥有所有权限也就是管理员：</p>
<blockquote>
<p>GRANT ALL PRIVILEGES ON . TO ‘远程用户名‘@’%’ IDENTIFIED BY “密码”;</p>
<p>FLUSH PRIVILEGES;</p>
</blockquote>
<ul>
<li>这个的%表示所有的ip都可以远程访问此数据库，也可指定 ip</li>
<li>. 的两边是有星号的</li>
</ul>
<h4 id="开放3306端口，重启防火墙（选做）"><a href="#开放3306端口，重启防火墙（选做）" class="headerlink" title="开放3306端口，重启防火墙（选做）"></a>开放3306端口，重启防火墙（选做）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 永久开放 3306 端口：</span></span><br><span class="line"><span class="comment"># 命令含义：</span></span><br><span class="line"><span class="comment">#  –zone #指定区域</span></span><br><span class="line"><span class="comment">#  –add-port=80/tcp #添加端口，格式为：&lt;端口号/协议&gt;</span></span><br><span class="line"><span class="comment">#  –permanent #永久生效，没有此参数重启后失效</span></span><br><span class="line">firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久关闭 3306 端口</span></span><br><span class="line">firewall-cmd --zone=public --remove-port=3306/tcp --permanent  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启防火墙：</span></span><br><span class="line">firewall-cmd --reload</span><br><span class="line">或者：systemctl restart firewalld.service（有些系统版本是用这个的）</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有开启的端口</span></span><br><span class="line">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>

<h3 id="k8s"><a href="#k8s" class="headerlink" title="k8s"></a>k8s</h3><h4 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h4><p>IP地址以实际为准</p>
<table>
<thead>
<tr>
<th>主机名</th>
<th>IP地址</th>
<th>角色</th>
</tr>
</thead>
<tbody><tr>
<td>k8smaster01</td>
<td>192.168.10.200</td>
<td>master / node</td>
</tr>
</tbody></table>
<h4 id="环境配置-1"><a href="#环境配置-1" class="headerlink" title="环境配置"></a>环境配置</h4><p>以下操作所有节点操作</p>
<h5 id="配置Yum源"><a href="#配置Yum源" class="headerlink" title="配置Yum源"></a>配置Yum源</h5><p>若可联网，可不需要配置本地Yum源</p>
<ul>
<li><strong>Yum源配置仅供参考，以实际环境提供的方式为准。</strong></li>
</ul>
<blockquote>
<p>挂载iso的方式 </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mkdir /cdrom</span><br><span class="line"></span><br><span class="line">mount -o loop xxxxx.iso /cdrom</span><br><span class="line">(其中xxxxx.iso是iso文件，可使用绝对路径)</span><br><span class="line"></span><br><span class="line">rm -rf /etc/yum.repos.d/*</span><br><span class="line"></span><br><span class="line">##新建yum源文件</span><br><span class="line">vi /etc/yum.repos.d/local.repo</span><br><span class="line">[rhel7]</span><br><span class="line">name=rhel7</span><br><span class="line">baseurl=file:///cdrom</span><br><span class="line">enable=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">##清除yum缓存及更新列表，检查yum源配置是否正常</span><br><span class="line">yum clean all</span><br><span class="line">yum repolist</span><br></pre></td></tr></table></figure>

<h5 id="配置系统limits参数"><a href="#配置系统limits参数" class="headerlink" title="配置系统limits参数"></a>配置系统limits参数</h5><ul>
<li><strong>如已配置或参数值比该参考值更大，则可跳过此步</strong></li>
</ul>
<p>查看已有配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">more /etc/security/limits.conf</span><br><span class="line">more /etc/security/limits.d/20-nproc.conf</span><br></pre></td></tr></table></figure>

<p>新增或修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;&gt;/etc/security/limits.conf</span><br><span class="line"></span><br><span class="line">* soft nofile 65535</span><br><span class="line">* hard nofile 65535</span><br><span class="line">* soft nproc 65535</span><br><span class="line">* hard nproc 65535</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">修改默认4096的值</span><br><span class="line"></span><br><span class="line">vi /etc/security/limits.d/20-nproc.conf</span><br><span class="line">*          soft    nproc     65535</span><br></pre></td></tr></table></figure>

<h5 id="配置域名解析，编辑-etc-hosts文件"><a href="#配置域名解析，编辑-etc-hosts文件" class="headerlink" title="配置域名解析，编辑/etc/hosts文件"></a>配置域名解析，编辑/etc/hosts文件</h5><p>k8sapi为必加域名，用于api接口对接，如不添加，集群初始化则失败，单机则为本机即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br><span class="line">本机IP k8smaster01 k8sapi</span><br></pre></td></tr></table></figure>

<p>注意：k8smaster01 是安装包内yaml 写s的，可修改</p>
<h5 id="配置主机名（分别在对应主机上执行）"><a href="#配置主机名（分别在对应主机上执行）" class="headerlink" title="配置主机名（分别在对应主机上执行）"></a>配置主机名（分别在对应主机上执行）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname k8smaster01</span><br></pre></td></tr></table></figure>

<h4 id="部署安装"><a href="#部署安装" class="headerlink" title="部署安装"></a>部署安装</h4><p><strong><em>以下操作所有节点操作</em></strong></p>
<h5 id="上传部署包并解压"><a href="#上传部署包并解压" class="headerlink" title="上传部署包并解压"></a>上传部署包并解压</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xf kubernetes-1.18.6.tar.gz</span><br></pre></td></tr></table></figure>

<h5 id="执行安装"><a href="#执行安装" class="headerlink" title="执行安装"></a>执行安装</h5><p>进入到解压后的目录kubernetes-1.18.6/script/ 下，执行安装脚本。</p>
<p>注意！！脚本默认将容器目录部署在/home/docker 下，请通过df -h 查看磁盘情况，进行实际调整。具体编辑安装脚本install_k8s.sh，查找 <strong>“graph”: “/home/docker”</strong> 部分，进行路径调整。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/script/</span><br><span class="line">./install_k8s.sh</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>注意安装过程是否有异常，如无异常则继续进行集群初始化，如有异常则需先排查处理。</strong></li>
</ul>
<h5 id="初始化集群"><a href="#初始化集群" class="headerlink" title="初始化集群"></a>初始化集群</h5><p>进入到解压后的目录kubernetes-1.18.6/script/ 下，执行初始化脚本，根据提示输入本机IP。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/script/</span><br><span class="line">./kubeadm-init.sh</span><br></pre></td></tr></table></figure>

<blockquote>
<p>初始化失败后处理办法（如需要重装k8s，从这里开始即可，执行完如下命令后，重新执行<code>初始化集群</code>）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">kubeadm reset</span><br><span class="line">rm -rf /etc/kubernetes/*.conf</span><br><span class="line">rm -rf /etc/kubernetes/manifests/*.yaml</span><br><span class="line">rm -rf /var/lib/etcd</span><br><span class="line">docker ps -a |awk &apos;&#123;print $1&#125;&apos; |xargs docker rm -f</span><br><span class="line">systemctl  stop kubelet</span><br><span class="line"></span><br><span class="line">rm -rf /var/lib/etcd /var/lib/calico/ /var/lib/cni/ /var/run/flannel/ /var/run/calico/ /etc/cni/ /var/lib/kubelet</span><br><span class="line">systemctl start docker</span><br><span class="line"></span><br><span class="line">如以上方法重置后初始化遗留网络问题可尝试以下方法：</span><br><span class="line">kubeadm reset</span><br><span class="line">systemctl stop docker</span><br><span class="line">ip link del docker0</span><br><span class="line">ip link del flannel.1</span><br><span class="line">ip link del cni0</span><br><span class="line">iptables -F</span><br><span class="line">iptables -X</span><br><span class="line"></span><br><span class="line">rm -rf /var/lib/etcd /var/lib/calico/ /var/lib/cni/ /var/run/flannel/ /var/run/calico/ /etc/cni/ /var/lib/kubelet</span><br><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>

<h5 id="配置kubectl工具"><a href="#配置kubectl工具" class="headerlink" title="配置kubectl工具"></a>配置kubectl工具</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /root/.kube</span><br><span class="line">cp /etc/kubernetes/admin.conf /root/.kube/config</span><br><span class="line"></span><br><span class="line">普通用户带sudo权限的执行以下：</span><br><span class="line">mkdir -p $HOME/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br></pre></td></tr></table></figure>

<h5 id="安装flannel网络"><a href="#安装flannel网络" class="headerlink" title="安装flannel网络"></a>安装flannel网络</h5><p>进入到解压后的目录kubernetes-1.18.6/yaml/ 下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/yaml/</span><br><span class="line">kubectl apply -f flannel.yml</span><br></pre></td></tr></table></figure>

<h5 id="检查集群状态"><a href="#检查集群状态" class="headerlink" title="检查集群状态"></a>检查集群状态</h5><ul>
<li>在master节点输入命令检查集群状态，返回如下结果则集群状态正常。</li>
</ul>
<blockquote>
<p>重点查看STATUS内容为Ready时，则说明集群状态正常。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NAME     STATUS   ROLES    AGE     VERSION</span><br><span class="line">k8smaster01   Ready    master   26m     v1.18.6</span><br></pre></td></tr></table></figure>

<h5 id="检查POD状态"><a href="#检查POD状态" class="headerlink" title="检查POD状态"></a>检查POD状态</h5><ul>
<li>在master节点输入命令检查POD状态。</li>
</ul>
<blockquote>
<p>查看STATUS内容是否有非Running状态的，如有则需要检查pod异常原因。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod -A</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NAME                                   READY   STATUS    RESTARTS   AGE</span><br><span class="line">coredns-66bff467f8-c2g6d               1/1     Running   0          10m</span><br><span class="line">coredns-66bff467f8-jgz42               1/1     Running   0          10m</span><br><span class="line">etcd-k8s-master01                      1/1     Running   0          10m</span><br><span class="line">kube-apiserver-k8s-master01            1/1     Running   0          10m</span><br><span class="line">kube-controller-manager-k8s-master01   1/1     Running   0          10m</span><br><span class="line">kube-flannel-ds-gzlzx                  1/1     Running   0          10m</span><br><span class="line">kube-proxy-tmjxp                       1/1     Running   0          10m</span><br><span class="line">kube-scheduler-k8s-master01            1/1     Running   0          10m</span><br></pre></td></tr></table></figure>

<h5 id="去掉污点让master也充当node角色"><a href="#去掉污点让master也充当node角色" class="headerlink" title="去掉污点让master也充当node角色"></a>去掉污点让master也充当node角色</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint node k8smaster01 node-role.kubernetes.io/master-</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如恢复master角色，执行以下命令</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint node k8smaster01 node-role.kubernetes.io/master=&quot;&quot;:NoSchedule</span><br></pre></td></tr></table></figure>

<ul>
<li>其中 k8smaster01 为node节点名称，以实际为准</li>
</ul>
<h5 id="更新api证书为10年"><a href="#更新api证书为10年" class="headerlink" title="更新api证书为10年"></a>更新api证书为10年</h5><p>进入到解压后的目录kubernetes-1.18.6/script/ 下，执行更新证书脚本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/script/</span><br><span class="line">./update-kubeadm-cert.sh all</span><br></pre></td></tr></table></figure>

<p>查看证书过期时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for item in `find /etc/kubernetes/pki -maxdepth 2 -name &quot;*.crt&quot;`;do openssl x509 -in $item -text -noout| grep Not;echo ======================$item===============;done</span><br></pre></td></tr></table></figure>

<h5 id="部署性能指标监控模块"><a href="#部署性能指标监控模块" class="headerlink" title="部署性能指标监控模块"></a>部署性能指标监控模块</h5><p>进入到解压后的目录kubernetes-1.18.6/yaml/ 下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/yaml/</span><br><span class="line">kubectl apply -f metrics.yaml</span><br></pre></td></tr></table></figure>

<h5 id="部署Dashboard"><a href="#部署Dashboard" class="headerlink" title="部署Dashboard"></a>部署Dashboard</h5><p>进入到解压后的目录kubernetes-1.18.6/yaml/ 下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd kubernetes-1.18.6/yaml/</span><br><span class="line">kubectl apply -f dashboard.yaml</span><br></pre></td></tr></table></figure>

<p>创建Dashboard权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl create serviceaccount  dashboard-admin -n kube-system</span><br><span class="line">kubectl create clusterrolebinding  dashboard-admin --clusterrole=cluster-admin --serviceaccount=kube-system:dashboard-admin</span><br></pre></td></tr></table></figure>

<p>查看访问Dashboard的认证令牌</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe secrets -n kube-system $(kubectl -n kube-system get secret | awk &apos;/dashboard-admin/&#123;print $1&#125;&apos;)</span><br></pre></td></tr></table></figure>

<p>访问Dashboard访问地址：<a href="https://masterIP:30000" target="_blank" rel="noopener">https://masterIP:30000</a></p>
<blockquote>
<p>谷歌浏览器跳过k8s验证，在谷歌快捷键目标最后添加</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--test-type --ignore-certificate-errors</span><br></pre></td></tr></table></figure>

<h2 id="常见服务的安装"><a href="#常见服务的安装" class="headerlink" title="常见服务的安装"></a>常见服务的安装</h2><h3 id="Ftp服务"><a href="#Ftp服务" class="headerlink" title="Ftp服务"></a>Ftp服务</h3><ol>
<li><p>查看 Ftp 服务的状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status vsftp</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装 Ftp 服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install vsftpd -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启服务并设置开机自启</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start vsftpd</span><br><span class="line">systemctl <span class="built_in">enable</span> vsftpd</span><br></pre></td></tr></table></figure>
</li>
<li><p>本地自测 Ftp 连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先安装 Ftp 客户端</span></span><br><span class="line">yum install ftp -y</span><br><span class="line"><span class="comment"># 测试（默认端口可以不写）</span></span><br><span class="line">ftp ip 21</span><br></pre></td></tr></table></figure>


</li>
</ol>

      <blockquote class="mdui-m-t-5">
        
          <strong>本文遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a> 许可协议，转载请附上原文出处链接和本声明。</strong><br>
        
        <strong>本文链接：</strong><a href="https://yellowbp.github.io/2022/04/15/Linux搭建及软件安装/">https://yellowbp.github.io/2022/04/15/Linux搭建及软件安装/</a>
      </blockquote>
      
    </div>
    <footer class="mdui-card-actions">
      
        <a class="mdui-ripple article_categories-link" href="/categories/linux/">linux</a>
      
      
        <a class="mdui-ripple article_tags-link" href="/tags/linux/">linux</a>
      
    </footer>
    
  </article>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script>$("#main article .mdui-card-content img.fancybox").on("click",function(e){$.fancybox.open({src:$(this).attr("src")});});</script>


  <nav id="paginator">
    
      <a rel="prev" class="extend prev" href="/2022/05/24/java之IO流/">
        <button aria-label="prev" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_back</i></button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上一篇
      </a>
    
    <div class="spacer"></div>
    
      <a rel="next" class="extend next" href="/2022/04/04/java泛型/">
        下一篇&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button aria-label="next" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_forward</i></button>
      </a>
    
  </nav>


  <div id="comment" class="mdui-m-t-5">
    <style>#pop_ad,#feedAv{display:none!important;position:absolute!important;z-index:-9999;left:-1000px;opacity:0!important}</style>
<div id="SOHUCS" sid="cl74qc0f40079jctw4j01npdy"></div>
<script type="text/javascript">
(function(){
var appid = 'cyubhC2Dq';
var conf = 'prod_e4cce65003c5bed049fefcb8a6f09e12';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
  </div>



  <div style="position: fixed !important; right: 16px; top: 30%;">
    <button class="mdui-fab mdui-fab-mini mdui-ripple" mdui-menu="{target: '#toc'}"><i class="mdui-icon material-icons">format_list_numbered</i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item" disabled><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux搭建及软件安装"><span class="toc-number">1.</span> <span class="toc-text">Linux搭建及软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Linux系统"><span class="toc-number">1.1.</span> <span class="toc-text">安装Linux系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#VMware虚拟机安装"><span class="toc-number">1.1.1.</span> <span class="toc-text">VMware虚拟机安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#下载ISO镜像文件"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">下载ISO镜像文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装vmware"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">安装vmware</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置虚拟机"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">配置虚拟机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#验证网卡配置"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">验证网卡配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#U盘安装"><span class="toc-number">1.1.2.</span> <span class="toc-text">U盘安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#前期准备"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">前期准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#制作启动盘"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">制作启动盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装系统"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">安装系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置基本环境"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">配置基本环境</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#更改主机名"><span class="toc-number">1.1.2.4.1.</span> <span class="toc-text">更改主机名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#设置网络"><span class="toc-number">1.1.2.4.2.</span> <span class="toc-text">设置网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#修改系统语言"><span class="toc-number">1.1.2.4.3.</span> <span class="toc-text">修改系统语言</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用软件安装"><span class="toc-number">1.2.</span> <span class="toc-text">常用软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#jdk"><span class="toc-number">1.2.1.</span> <span class="toc-text">jdk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#下载jdk"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">下载jdk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装jdk"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">安装jdk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#卸载jdk"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">卸载jdk</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql"><span class="toc-number">1.2.2.</span> <span class="toc-text">mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#环境配置"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">环境配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#配置ulimit限制"><span class="toc-number">1.2.2.1.1.</span> <span class="toc-text">配置ulimit限制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#切换成root用户进行如下安装"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">切换成root用户进行如下安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#下载安装包"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">下载安装包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#上传并解压安装包"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">上传并解压安装包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除系统自带的mysql"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">删除系统自带的mysql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装5个rpm包"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">安装5个rpm包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#创建相关目录及授权"><span class="toc-number">1.2.2.7.</span> <span class="toc-text">创建相关目录及授权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#按实际修改配置文件参数"><span class="toc-number">1.2.2.8.</span> <span class="toc-text">按实际修改配置文件参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#启动服务并设置开机自启"><span class="toc-number">1.2.2.9.</span> <span class="toc-text">启动服务并设置开机自启</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询mysql的运行状态"><span class="toc-number">1.2.2.10.</span> <span class="toc-text">查询mysql的运行状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重置root密码"><span class="toc-number">1.2.2.11.</span> <span class="toc-text">重置root密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加远程登录用户"><span class="toc-number">1.2.2.12.</span> <span class="toc-text">添加远程登录用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#开放3306端口，重启防火墙（选做）"><span class="toc-number">1.2.2.13.</span> <span class="toc-text">开放3306端口，重启防火墙（选做）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#k8s"><span class="toc-number">1.2.3.</span> <span class="toc-text">k8s</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#环境说明"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">环境说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#环境配置-1"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">环境配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#配置Yum源"><span class="toc-number">1.2.3.2.1.</span> <span class="toc-text">配置Yum源</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#配置系统limits参数"><span class="toc-number">1.2.3.2.2.</span> <span class="toc-text">配置系统limits参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#配置域名解析，编辑-etc-hosts文件"><span class="toc-number">1.2.3.2.3.</span> <span class="toc-text">配置域名解析，编辑/etc/hosts文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#配置主机名（分别在对应主机上执行）"><span class="toc-number">1.2.3.2.4.</span> <span class="toc-text">配置主机名（分别在对应主机上执行）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#部署安装"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">部署安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#上传部署包并解压"><span class="toc-number">1.2.3.3.1.</span> <span class="toc-text">上传部署包并解压</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#执行安装"><span class="toc-number">1.2.3.3.2.</span> <span class="toc-text">执行安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#初始化集群"><span class="toc-number">1.2.3.3.3.</span> <span class="toc-text">初始化集群</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#配置kubectl工具"><span class="toc-number">1.2.3.3.4.</span> <span class="toc-text">配置kubectl工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#安装flannel网络"><span class="toc-number">1.2.3.3.5.</span> <span class="toc-text">安装flannel网络</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#检查集群状态"><span class="toc-number">1.2.3.3.6.</span> <span class="toc-text">检查集群状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#检查POD状态"><span class="toc-number">1.2.3.3.7.</span> <span class="toc-text">检查POD状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#去掉污点让master也充当node角色"><span class="toc-number">1.2.3.3.8.</span> <span class="toc-text">去掉污点让master也充当node角色</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#更新api证书为10年"><span class="toc-number">1.2.3.3.9.</span> <span class="toc-text">更新api证书为10年</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#部署性能指标监控模块"><span class="toc-number">1.2.3.3.10.</span> <span class="toc-text">部署性能指标监控模块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#部署Dashboard"><span class="toc-number">1.2.3.3.11.</span> <span class="toc-text">部署Dashboard</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见服务的安装"><span class="toc-number">1.3.</span> <span class="toc-text">常见服务的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ftp服务"><span class="toc-number">1.3.1.</span> <span class="toc-text">Ftp服务</span></a></li></ol></li></ol></li></ol></li>
    </ul>
  </div>
</main>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<footer id="footer" class="mdui-m-t-5 mdui-p-y-3 mdui-color-theme">
  <div class="mdui-p-y-0 mdui-text-center">
    
    
    
    
    
    
    
      <a href="https://github.com/yellowbp" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xe7ab;</i></a>
    
    
    
    
    
      <a href="tencent://message/?uin=1432440963&Menu=yes" target="_blank"><i class="mdui-p-a-1 mdui-icon iconfont mdui-text-color-theme-a100">&#xe651;</i></a>
    
    
  </div>
  <div class="mdui-p-y-1 mdui-text-center">
    Copyright &copy; 2019 - 2022 hbp<br>
    Powered by <a href="https://hexo.io/" target="_blank" class="mdui-text-color-theme-accent">Hexo</a>hbp All rights reserved.
    
    <br>
    <span id="busuanzi_container_site_uv">
    本网站总访问量<span id="busuanzi_value_site_uv"></span>次
    </span>
  </div>
</footer>
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-theme-accent"><i class="mdui-icon material-icons">arrow_upward</i></button>
  <script async src="http://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <script src="/js/mdui.js"></script>
<script src="/js/script.js"></script>
</body>
</html>